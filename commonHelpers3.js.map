{"version":3,"file":"commonHelpers3.js","sources":["../src/js/3-reviews.js"],"sourcesContent":["import Swiper from 'swiper/bundle';\n// import styles bundle\nimport 'swiper/css/bundle';\n\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport axios from 'axios';\n\nimport * as basicLightbox from 'basiclightbox'\n\n// ======VARIABLE========\n\nconst API = \"https://portfolio-js.b.goit.study/api\";\n\n\n// ======FUNCTIONS======\n\n// ------swiper------\nconst slipper = new Swiper('.swiper',{\n    autoHeight: true,\n    slidesPerView: 1,\n    breakpoints: {\n        // when window width is >= 320px\n        1280: {\n            slidesPerView: 2,\n            spaceBetween: 32,\n            autoHeight: false,\n          }\n    },\n    navigation: {\n        nextEl: '.swiper-button-next',\n        prevEl: '.swiper-button-prev',},\n\n    keyboard: {\n        enabled: true,\n        onlyInViewport: false,\n      },\n    mousewheel: {\n        invert: true,\n      },  \n});\n\n//  ------HTTP request-------\nconst fetchReviews = async () => {\n\tconst response = await axios.get(`${API}/reviews`);\n\treturn response.data;\n};\n\n\n\n\nslipper.on(\"reachEnd\", ()=>{ \n    iziToast.show({\n        title: 'Hey',\n        message: 'It is end',\n        color: 'blue', \n        position: 'topRight',\n        timeout: 1500,\n          \n})\n})\n\n//  -----create HTML ---------\nconst createHtml = (users)=>{\n    const revievHtml = users.reduce((acc, item, index)=>{\n        return acc+= `<li class=\"swiper-slide\">  \n                           <p class=\"text-review\">${item.review}</p>\n                       <div class=\"icon-photo-name\">\n                           <img src=${item.avatar_url} alt=\"natalia\" width=\"40\" height=\"40\"\n                               class=\"avatar-icon\" />\n                           <p class=\"user-name-review\">${item.author}</p>\n                       </div>\n                       </li>`                \n     },\"\");\n\n    return revievHtml;\n}\n\n// ----temp----\nconst  swiperSlide = document.querySelectorAll(\".swiper-slide\");\nconsole.log(swiperSlide.childNodes\n);\n//-----Modal window------\n\nconst createModalWindow = (tag) => {\n\n    const reviewMessage = document.querySelectorAll(\".text-review\");\n    const reviewAuthor = document.querySelectorAll(\".user-name-review\");\n    const reviewAwatar = document.querySelectorAll(\".avatar-icon\");\n    console.log(reviewMessage);\n      reviewMessage.forEach((value,index) => {\n          console.log(value);\n      value.addEventListener(\"click\", () => {const instance = basicLightbox.create(\n          `<div class=\"backdrop\">\n                <div class=\"modal\">\n                     <p class=\"modal-text-review\">${value.innerHTML}</p>\n                     <div class=\"modal-icon-photo-name icon-photo-name\">\n                     <img src=${reviewAwatar[index].src} alt=\"natalia\" width=\"40\" height=\"40\"\n                         class=\"modal-avatar-icon avatar-icon\" />\n                     <p class=\"modal-user-name-review user-name-review\">${reviewAuthor[index].innerHTML}</p>\n                 </div>\n                     <a class=\"modal-link\">Close</a>\n                </div>\n          </div>`,\n  \n          {onShow: (instance) => {\n                      instance.element().querySelector('a').onclick = instance.close\n                  }}\n      )\n      instance.show()\n      \n  })})\n}\n\n//--------Data Processing------\n\nconst doStuff = async () => {\n  try {\n    const users = await fetchReviews();\n  console.log(users);\n\n  document.querySelector(\".swiper-wrapper\").innerHTML = createHtml(users);\n  \n\n  createModalWindow(\".text-review\")\n\n\n\n//   const reviewMessage = document.querySelectorAll(\".text-review\");\n//   console.log(reviewMessage);\n//     reviewMessage.forEach(value => {\n//         console.log(value);\n//     value.addEventListener(\"click\", () => {const instance = basicLightbox.create(\n//         `<div class=\"modal\">\n//             <p>${value.innerHTML}</p>\n//             <a>Close</a>\n//         </div>`,\n\n//         {onShow: (instance) => {\n//                     instance.element().querySelector('a').onclick = instance.close\n//                 }}\n//     )\n//     instance.show()\n    \n// })})\n\n  \n} catch (error) {\n    console.log(error);\n  }\n};\n\nconst usr = doStuff();\nconsole.log(usr);\n\n"],"names":["API","slipper","Swiper","fetchReviews","axios","iziToast","createHtml","users","acc","item","index","swiperSlide","createModalWindow","tag","reviewMessage","reviewAuthor","reviewAwatar","value","basicLightbox.create","instance","doStuff","error","usr"],"mappings":"yHAcA,MAAMA,EAAM,wCAMNC,EAAU,IAAIC,EAAO,UAAU,CACjC,WAAY,GACZ,cAAe,EACf,YAAa,CAET,KAAM,CACF,cAAe,EACf,aAAc,GACd,WAAY,EACb,CACN,EACD,WAAY,CACR,OAAQ,sBACR,OAAQ,qBAAuB,EAEnC,SAAU,CACN,QAAS,GACT,eAAgB,EACjB,EACH,WAAY,CACR,OAAQ,EACT,CACP,CAAC,EAGKC,EAAe,UACH,MAAMC,EAAM,IAAI,GAAGJ,CAAG,UAAU,GACjC,KAMjBC,EAAQ,GAAG,WAAY,IAAI,CACvBI,EAAS,KAAK,CACV,MAAO,MACP,QAAS,YACT,MAAO,OACP,SAAU,WACV,QAAS,IAEjB,CAAC,CACD,CAAC,EAGD,MAAMC,EAAcC,GACGA,EAAM,OAAO,CAACC,EAAKC,EAAMC,IACjCF,GAAM;AAAA,oDAC+BC,EAAK,MAAM;AAAA;AAAA,sCAEzBA,EAAK,UAAU;AAAA;AAAA,yDAEIA,EAAK,MAAM;AAAA;AAAA,8BAG7D,EAAE,EAMFE,EAAc,SAAS,iBAAiB,eAAe,EAC9D,QAAQ,IAAIA,EAAY,UACxB,EAGA,MAAMC,EAAqBC,GAAQ,CAE/B,MAAMC,EAAgB,SAAS,iBAAiB,cAAc,EACxDC,EAAe,SAAS,iBAAiB,mBAAmB,EAC5DC,EAAe,SAAS,iBAAiB,cAAc,EAC7D,QAAQ,IAAIF,CAAa,EACvBA,EAAc,QAAQ,CAACG,EAAMP,IAAU,CACnC,QAAQ,IAAIO,CAAK,EACrBA,EAAM,iBAAiB,QAAS,IAAM,CAAkBC,EAAoB,OACxE;AAAA;AAAA,oDAE0CD,EAAM,SAAS;AAAA;AAAA,gCAEnCD,EAAaN,CAAK,EAAE,GAAG;AAAA;AAAA,0EAEmBK,EAAaL,CAAK,EAAE,SAAS;AAAA;AAAA;AAAA;AAAA,kBAM7F,CAAC,OAASS,GAAa,CACXA,EAAS,QAAO,EAAG,cAAc,GAAG,EAAE,QAAUA,EAAS,KAC/E,CAAmB,CACZ,EACQ,KAAM,CAElB,CAAA,CAAC,CAAC,CACL,EAIMC,EAAU,SAAY,CAC1B,GAAI,CACF,MAAMb,EAAQ,MAAMJ,IACtB,QAAQ,IAAII,CAAK,EAEjB,SAAS,cAAc,iBAAiB,EAAE,UAAYD,EAAWC,CAAK,EAGtEK,EAAkB,cAAc,CAuBlC,OAASS,EAAO,CACZ,QAAQ,IAAIA,CAAK,CAClB,CACH,EAEMC,EAAMF,EAAO,EACnB,QAAQ,IAAIE,CAAG"}